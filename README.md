# PACIFICA
## 概要
「PACIFICA」は好きな音楽アルバムのレビューを投稿できる、ソーシャルネットワーキングサービスです。  
音楽アルバム検索機能、Apple Musicによる視聴プレイヤーを備えており、ユーザーは好きな音楽アルバムを簡単に共有することができます。  

アプリケーションの開発にあたっては
- インフラにAWSを使用(コンテナ基盤としてECSを使用)
- CircleCIによるCI/CDパイプライン(自動テスト、自動デプロイ)を構築
- Dockerを開発環境に導入し、本番環境との差異を吸収

など、実務を想定したモダンな技術を活用しました。  
また、本アプリケーションは個人開発ですが、GithubのIssues機能やpull requestを活用することによる擬似チーム開発を行いました。

## URL
https://pacifica.ml
- 常時SSL化
- テストユーザーとして簡単にログイン可能

## 使用技術
- HTML
- CSS
- Javascript / JQuery / Ajax
- Ruby 2.6.5
- Ruby on Rails 6.0.3.4 (minitestによるテスト, Rubocopによる静的解析)
- MySQL 5.7
- Nginx (ウェブサーバー)
- Puma (アプリケーションサーバー)
- Git / GitHub (Issues, pull requestによる擬似チーム開発)
- Docker / Docker-compose
- AWS (ECS, ECR, RDS, VPC, ALB, Route53, ACM, IAM)
- CircleCI (CI/CDパイプライン構築による自動テスト, 自動ビルド, 自動デプロイ)

### インフラ構成図
![image](https://user-images.githubusercontent.com/55893072/100296464-9f2a0900-2fcf-11eb-9bf7-26db7a370870.png)

## 主要機能
- ログイン関連
  - ログイン機能 (cookiesによる永続ログイン)

- ユーザー関連
  - ユーザー登録機能
  - ユーザー削除機能 (管理ユーザーのみ)
  - ユーザー一覧表示機能
  - ユーザー詳細表示機能
  - ユーザープロフィール編集機能
  - ユーザープロフィール画像アップロード機能
  - ユーザーフォロー/フォロー解除機能
  - フォローユーザー/フォロワー一覧表示機能

- 投稿関連
  - 投稿機能
  - 音楽アルバム検索機能 (アルバム情報の自動取得)
  - 投稿一覧表示機能
  - フォローユーザーの投稿一覧表示機能
  - 投稿詳細表示機能 (Apple Musicによる試聴プレイヤーの表示)
  - 投稿編集機能
  - 投稿削除機能
  - いいね/いいね解除機能
  - いいねした投稿一覧表示機能
  - コメント機能
  - 投稿検索機能

- その他・共通
  - ページネーション機能
  - Flash機能
  - アクションに対する各種バリデーション

## アプリケーションの主な特徴
- 音楽アルバム検索機能により、アルバム名またはアーティスト名から共有したいアルバムを探すことができる。
- 検索したアルバムの情報(アルバム名、アーティスト名、アルバムアートワーク)を投稿に結びつけることができる。
- 投稿詳細ページにはそのアルバムの音楽プレイヤーが表示され、その場で試聴できる。
- コメント機能により、ユーザー同士でコミュニケーションできる。
- いいね機能により、投稿をいいねし、その一覧を取得できる。
- 投稿検索機能により、アルバム名またはアーティスト名から投稿を探すことができる。

## クイックチュートリアル
1. 投稿の作成
  - アルバム名またはアーティスト名を検索ボックスに入力してEnterキーを押すと、下の結果表示欄に音楽アルバムの一覧が表示されます。
  - シェアしたいアルバムをクリックすると、自動的にそのアルバム名とアーティスト名がテキストフィールドの上部に表示されます。
  - テキストフィールドにアルバムの感想を入力し、「Post」ボタンをクリックすると投稿が作成されます。
  <img src="https://user-images.githubusercontent.com/55893072/97750355-f6090380-1b33-11eb-81a7-e922e95bc92b.jpg" width="500px">

2. 投稿詳細ページ
  - 投稿の詳細ページにはアルバム名、アーティスト名、アルバムアートワーク、アルバムの感想、そしてApple Musicの視聴プレイヤーが表示されます。視聴プレイヤーを使って、どんなアルバムなのか聴いてみることができます。
  - ハートマークで表示された「いいね」ボタンを押すと、その投稿をいいねすることができます。いいねした投稿は、いいね一覧画面に表示されます。
  - 感想の下にあるコメントフォームから、その投稿にコメントすることができます。
  <img src="https://user-images.githubusercontent.com/55893072/97750348-f30e1300-1b33-11eb-85e9-3890e105655d.jpg" width="500px">

3. トップページ
  - アプリケーションのトップページには、自身およびフォローしたユーザーの投稿のフィードが表示されます。
  <img src="https://user-images.githubusercontent.com/55893072/97750359-f6a19a00-1b33-11eb-9735-678a982a02c1.jpg" width="500px">

## アプリケーション開発の背景
音楽は私の一番の趣味です。日頃よりレコードの収集や楽器の演奏(ギター)を行い、その関心を深めてきました。  
音楽は一人でも楽しめるものですが、最もすばらしいことは、大好きな曲やアルバムを誰かと共有することです。  
自分の好きな音楽について語ったり、誰かに新しい音楽を教わることを通して、自分の世界を広げ、人生を豊かなものにすることができました。  
また、自分より知識の豊富な人の感想を聞くことは、私にいつも新しい気づきを与えてくれました。  
何気なく聞いていた音楽も誰かの感想を通して聞くと、また違って聞こえるものです。  

しかしながら、これだけインターネットが発達した現在であっても、音楽についてのまとまった感想を探すのは容易ではありません。  
音楽の感想というものは、現状共通のプラットフォームを持っていないのです。  
個々人が各自のブログやSNS等でアップしているものがほとんどです。  
よって、ある音楽についての誰かの感想を探したければ、アルバム名やアーティスト名で検索し、音楽の販売ページの山を乗り越えて、個人のブログやサイトに辿り着かねばなりません。  
さらに、それらは他の無関係な記事や投稿の中に混ざってしまっています。  
その人の他の音楽についての感想を読みたくても、正確にタグ付けなどしていない場合、記事一覧をずっと遡らなければならないことでしょう。  
また、聴いたことのない音楽についての感想を読んで、その場で聴いてみたいと思っても、簡単にはいきません。  
動画サイトやストリーミングサイトに飛んで(場合によってはわざわざ登録したりお金を払って)、その音楽を検索して、やっと聴くことができるのです。  

感想を書く人にとっても、面倒なことはたくさんあります。  
どこかからアルバムのアートワークをダウンロードしてきたり、動画を探してサイトのURLを貼り付けたり、アルバム名やアーティスト名をいちいち打ち込んだり…  
高い評価を受けている音楽であっても、こういった煩雑さからか、感想をアップしている方が非常に少ないのです。  

感想を読む側、書く側の双方が抱えるこうした問題により、素晴らしい音楽に出会ったり、共有する機会が失われていることは非常に残念です。  

そこで、これらの問題を解決した、書き手と読み手双方の共通のプラットフォームとして、「PACIFICA」を開発しました。  
YAMAHAの素晴らしいエレクトリックギターの名を借りたこのアプリケーションでは、誰もが簡単に音楽アルバムのレビューを投稿することができます。  
書き手は、音楽アルバムの検索機能を用いて、シェアしたいアルバムを簡単に見つけ、そのアルバム名、アーティスト名、アートワークを瞬時に投稿に取り入れることができます。  
読み手は、各ユーザーの投稿を見れるだけでなく、ページに備えられたApple Musicの視聴プレイヤーを使って、その場で曲を聴いてみることができます。  

## 今後の課題点など
- テストにminitestではなくRSpecを使用する
- レスポンシブデザインに対応する
- 機能の拡充
